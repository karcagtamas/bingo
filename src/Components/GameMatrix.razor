@using Bingo.Models.Games

@foreach (var row in _matrix)
{
    @foreach (var cell in row)
    {
        <GameCell Data="@cell"/>
    }
}

@code {

    [Parameter] public required GameMatrixConfiguration Configuration { get; set; }

    [Parameter] public required List<GameMatrixCell> Cells { get; set; }

    private List<List<GameMatrixCell>> _matrix = [];

    protected override void OnParametersSet()
    {
        List<List<GameMatrixCell>> m = [];
        for (int i = 0; i < Configuration.Rows; i++)
        {
            List<GameMatrixCell> r = [];
            for (int j = 0; j < Configuration.Cols; j++)
            {
                int orderNo = i * Configuration.Cols + j;

                r.Add(Cells.Find(c => c.OrderNo == orderNo)!);
            }

            m.Add(r);
        }

        _matrix = m;
    }

}